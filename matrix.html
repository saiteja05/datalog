<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB Strategic Architecture Decision Matrix</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg role='img' viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3EMongoDB%3C/title%3E%3Cpath fill='%2300ED64' d='M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z'/%3E%3C/svg%3E">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
    
    <style>
        /* --- CORE STYLES --- */
        :root {
            --bg-primary: #0a1929;
            --bg-secondary: #1a2332;
            --bg-tertiary: #001e2b;
            --bg-surface: rgba(255, 255, 255, 0.95);
            --bg-surface-gradient: linear-gradient(to bottom, #ffffff 0%, #f8f9fa 100%);
            --bg-header: linear-gradient(135deg, #001E2B 0%, #003547 100%);
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --text-dark: #001e2b;
            --text-muted: #2c3e50;
            --accent-green: #00ED64;
            --accent-green-dark: #4DB33D;
            --shadow-color: rgba(0,0,0,0.4);
            --shadow-light: rgba(0,0,0,0.2);
            --border-color: rgba(77,179,61,0.2);
            --grid-color: #2a3f54;
            --control-bg: rgba(255, 255, 255, 0.95);
            --control-text: #001e2b;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body {
            background-color: #0a1929; /* Immediate dark background */
        }
        body { 
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            margin: 0; 
            padding: 0; 
            overflow: hidden; 
            background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 50%, var(--bg-tertiary) 100%);
            transition: background 0.3s ease;
        }

        /* --- HEADER --- */
        header { 
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 70px; 
            background: linear-gradient(135deg, #001E2B 0%, #003547 100%);
            color: white; 
            display: flex; 
            align-items: center; 
            padding: 0 30px; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.4), 0 0 40px rgba(77,179,61,0.1);
            z-index: 100;
            border-bottom: 1px solid rgba(77,179,61,0.2);
        }
        h1 { 
            margin: 0; 
            font-size: 1.5rem; 
            font-weight: 700; 
            letter-spacing: -0.5px;
            background: linear-gradient(135deg, #fff 0%, #e0e0e0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .subtitle { 
            margin-left: 20px; 
            font-size: 0.9rem; 
            color: #00ED64;
            font-weight: 600;
            border-left: 2px solid #00ED64; 
            padding-left: 20px; 
            letter-spacing: 0.5px;
        }

        /* --- DIAGRAM CONTAINER --- */
        #diagram-container { 
            position: absolute; 
            top: 70px; 
            left: 0; 
            right: 0; 
            bottom: 0; 
            background: 
                radial-gradient(circle at 20% 50%, rgba(0, 237, 100, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 50%, rgba(77, 179, 61, 0.05) 0%, transparent 50%),
                radial-gradient(#2a3f54 1px, transparent 1px);
            background-size: 100% 100%, 100% 100%, 30px 30px;
            overflow: hidden; 
            transition: margin-right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .mermaid { 
            width: 100%; 
            height: 100%; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            opacity: 0;
            animation: fadeIn 0.6s ease forwards;
        }
        .mermaid svg { 
            height: 100% !important; 
            width: 100% !important; 
            max-width: none !important;
            filter: drop-shadow(0 10px 30px rgba(0,0,0,0.3));
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* --- CONTROLS --- */
        .controls { 
            position: absolute; 
            bottom: 30px; 
            left: 30px; 
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 10px; 
            border-radius: 16px; 
            box-shadow: 0 8px 32px rgba(0,0,0,0.2), 0 0 0 1px rgba(255,255,255,0.1);
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
            z-index: 90;
        }
        button.ctrl-btn { 
            width: 48px; 
            height: 48px; 
            border: none;
            background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
            border-radius: 12px; 
            cursor: pointer; 
            font-size: 1.5rem; 
            color: #001e2b;
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        button.ctrl-btn::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(135deg, #00ED64 0%, #4DB33D 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        button.ctrl-btn:hover::before { opacity: 0.15; }
        button.ctrl-btn:hover { 
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 16px rgba(0,237,100,0.3);
        }
        button.ctrl-btn:active {
            transform: translateY(0) scale(0.98);
        }
        button.ctrl-btn span {
            position: relative;
            z-index: 1;
        }

        /* --- LEGEND --- */
        .legend { 
            position: absolute; 
            top: 90px; 
            left: 30px; 
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 24px; 
            border-radius: 16px; 
            box-shadow: 0 8px 32px rgba(0,0,0,0.2), 0 0 0 1px rgba(255,255,255,0.1);
            font-size: 0.9rem; 
            z-index: 90;
            min-width: 240px;
        }
        .legend strong {
            display: block;
            font-size: 1rem;
            font-weight: 700;
            color: #001e2b;
            margin-bottom: 16px;
            letter-spacing: -0.3px;
        }
        .legend-item { 
            display: flex; 
            align-items: center; 
            margin-bottom: 12px; 
            color: #2c3e50;
            font-weight: 500;
            transition: transform 0.2s ease;
        }
        .legend-item:hover {
            transform: translateX(4px);
        }
        .dot { 
            width: 16px; 
            height: 16px; 
            border-radius: 5px; 
            margin-right: 14px;
            transition: transform 0.2s ease;
        }
        .legend-item:hover .dot {
            transform: scale(1.2);
        }
        .l-value { 
            background: linear-gradient(135deg, #00ED64 0%, #4DB33D 100%);
            border: none;
            box-shadow: 0 2px 8px rgba(0,237,100,0.3);
        }
        .l-tech { 
            background: #E3F2FD;
            border: 1px solid #1565C0;
        }
        .l-scale {
            background: #FFF3E0;
            border: 1px solid #EF6C00;
        }
        .l-plat {
            background: #F3E5F5;
            border: 1px solid #7B1FA2;
        }
        .l-deploy {
            background: #E8F5E9;
            border: 1px solid #2E7D32;
        }
        .l-start {
            background: #333;
            border: 1px solid #000;
        }
        .l-exit {
            background: #F5F5F5;
            border: 1px dashed #616161;
        }
        .l-final {
            background: #DEFFF8;
            border: 1px solid #46EDC8;
        }

        /* --- SIDE DRAWER --- */
        #side-drawer {
            position: fixed;
            top: 70px;
            right: -450px;
            width: 420px;
            bottom: 0;
            background: linear-gradient(to bottom, #ffffff 0%, #f8f9fa 100%);
            box-shadow: -8px 0 40px rgba(0,0,0,0.3);
            z-index: 200;
            transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            flex-direction: column;
            border-left: 1px solid rgba(0,237,100,0.2);
        }

        #side-drawer.open { right: 0; }

        .drawer-header {
            background: linear-gradient(135deg, #001E2B 0%, #003547 100%);
            padding: 28px 32px;
            border-bottom: 1px solid rgba(0,237,100,0.2);
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .drawer-header h2 { 
            margin: 0; 
            font-size: 1.4rem; 
            color: #ffffff;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        .close-btn { 
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            width: 36px;
            height: 36px;
            border-radius: 8px;
            font-size: 1.6rem; 
            color: #ffffff;
            cursor: pointer; 
            padding: 0; 
            line-height: 1;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .close-btn:hover { 
            background: rgba(255,255,255,0.2);
            transform: rotate(90deg);
        }

        .drawer-body { 
            padding: 32px; 
            overflow-y: auto; 
            flex-grow: 1;
        }

        .drawer-body::-webkit-scrollbar {
            width: 8px;
        }
        .drawer-body::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.05);
        }
        .drawer-body::-webkit-scrollbar-thumb {
            background: rgba(0,237,100,0.3);
            border-radius: 4px;
        }
        .drawer-body::-webkit-scrollbar-thumb:hover {
            background: rgba(0,237,100,0.5);
        }

        .value-prop-box {
            background: linear-gradient(135deg, #E8F5E9 0%, #f1f8f4 100%);
            border-left: 4px solid #00ED64;
            padding: 24px;
            margin-bottom: 28px;
            border-radius: 0 12px 12px 0;
            box-shadow: 0 4px 12px rgba(0,237,100,0.1);
        }
        .value-label { 
            font-size: 0.75rem; 
            text-transform: uppercase; 
            color: #2d7a4d;
            font-weight: 800;
            display: block; 
            margin-bottom: 10px; 
            letter-spacing: 1px;
        }
        .value-text { 
            font-size: 1.2rem; 
            color: #001e2b;
            font-weight: 700;
            line-height: 1.5;
        }

        .details-text { 
            color: #34495e;
            line-height: 1.8;
            font-size: 0.95rem; 
            margin-bottom: 32px;
        }

        .doc-link {
            display: block;
            text-align: center;
            background: linear-gradient(135deg, #001E2B 0%, #003547 100%);
            color: white;
            padding: 14px 24px;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 0.95rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 12px rgba(0,30,43,0.3);
            position: relative;
            overflow: hidden;
        }
        .doc-link::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(135deg, #00ED64 0%, #4DB33D 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .doc-link:hover::before {
            opacity: 1;
        }
        .doc-link:hover { 
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,237,100,0.4);
        }
        .doc-link span {
            position: relative;
            z-index: 1;
        }
        .no-link { 
            background: #e0e0e0;
            color: #999; 
            pointer-events: none;
            box-shadow: none;
        }

        /* --- MONGODB LEAF LOGO --- */
        .mongodb-leaf {
            position: absolute;
            bottom: 30px;
            right: 30px;
            width: 100px;
            height: 100px;
            opacity: 0.2;
            pointer-events: none;
            z-index: 85;
            transition: opacity 0.3s ease;
        }

    </style>
</head>
<body>

    <header>
        <h1>MongoDB :  Architecture Decision Matrix</h1>
    </header>

    <!-- MongoDB Leaf Logo Watermark -->
    <svg class="mongodb-leaf" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path fill="#00ED64" d="M17.193 9.555c-1.264-5.58-4.252-7.414-4.573-8.115-.28-.394-.53-.954-.735-1.44-.036.495-.055.685-.523 1.184-.723.566-4.438 3.682-4.74 10.02-.282 5.912 4.27 9.435 4.888 9.884l.07.05A73.49 73.49 0 0111.91 24h.481c.114-1.032.284-2.056.51-3.07.417-.296.604-.463.85-.693a11.342 11.342 0 003.639-8.464c.01-.814-.103-1.662-.197-2.218zm-5.336 8.195s0-8.291.275-8.29c.213 0 .49 10.695.49 10.695-.381-.045-.765-1.76-.765-2.405z"/>
    </svg>

    <div class="legend">
        <strong>Node Description</strong><br><br>
        <div class="legend-item"><div class="dot l-value"></div><strong>Value Proposition (Clickable)</strong></div>
        <div class="legend-item"><div class="dot l-tech"></div>Data & Workload</div>
        <div class="legend-item"><div class="dot l-scale"></div>Scalability & Performance</div>
        <div class="legend-item"><div class="dot l-plat"></div>Platform & Integration</div>
        <div class="legend-item"><div class="dot l-deploy"></div>Deployment & Security</div>
        <div class="legend-item"><div class="dot l-exit"></div>Exit / Alternative</div>
        <div class="legend-item"><div class="dot l-final"></div>Final Architecture</div>
    </div>
    <div class="controls">
        <button class="ctrl-btn" onclick="zoomIn()"><span>+</span></button>
        <button class="ctrl-btn" onclick="zoomOut()"><span>−</span></button>
        <button class="ctrl-btn" onclick="resetZoom()"><span>↺</span></button>
    </div>

    <div id="side-drawer">
        <div class="drawer-header">
            <h2 id="drawer-title">Node Title</h2>
            <button class="close-btn" onclick="closeDrawer()">×</button>
        </div>
        <div class="drawer-body">
            <div class="value-prop-box">
                <span class="value-label">Value Proposition</span>
                <span id="drawer-value" class="value-text">...</span>
            </div>
            <p id="drawer-details" class="details-text">...</p>
            <a id="drawer-link" href="#" target="_blank" class="doc-link"><span>Read Documentation →</span></a>
        </div>
    </div>

    <div id="diagram-container" onclick="closeDrawer()">
        <div class="mermaid">
%%{init: {'theme': 'base', 'flowchart': {'curve': 'basis', 'layout': 'dagre'}, 'themeVariables': { 'background': 'transparent', 'mainBkg': 'transparent', 'fontFamily': 'Inter', 'fontSize': '16px', 'lineColor': '#ffffff' }}}%%
flowchart TB
    Start(["Start: Strategic Vision"]) --> BizModel{"**Business Model**<br>Internal Enterprise App<br>or B2B SaaS?"}
    BizModel -- Internal App --> WorkloadCheck{"**Workload Nature**<br>Transactional or<br>Analytical?"}
    BizModel -- B2B SaaS --> Tenancy{"**Multi-Tenancy Nuance**<br>Isolation Strategy?"}
    Tenancy -- Silo (1 Deployment per Tenant) --> Silo["**Devops Nightmare**<br>Not enforced by MongoDB even for hardware isolation"]
    Tenancy -- Pool (Shared DB) --> Isolation{"**Isolation Check**<br>Need strict data residency<br>per tenant?"}
    Isolation -- Logical Isolation --> Logical["**Logical Sharding**<br>Standard Collections"]
    Isolation -- Physical Isolation --> TenantShard["**Tenant-Aware Sharding**<br>Dedicate Nodes to VIPs"]
    Logical --> WorkloadCheck
    TenantShard --> WorkloadCheck
    Silo --> WorkloadCheck
    WorkloadCheck -- Analytical (OLAP) --> AnalyticCheck{"**Analytical Nuance**<br>Massive Joins (10+),<br>Full Table Scans, OR<br>Deep History (&gt;500TB active data set)?"}
    AnalyticCheck -- Yes (Data Warehouse) --> DWH["**Data Warehouse / Lakehouse**<br>Snowflake / Databricks<br>(Cost Efficiency for Cold Data)"]
    AnalyticCheck -- "No (Real-Time Analytics)" --> DevSkill{"**Team Skillset**<br>Code-First (Devs)<br>or SQL-First (DBAs)?"}
    WorkloadCheck -- Transactional (OLTP) --> DevSkill
    DevSkill -- "SQL-First" --> AcidCheck{"**ACID Nuance**<br>Multi-table transactions<br>across 10+ tables?"}
    DevSkill -- "Code-First" --> ObjMatch["**Value: Dev Experience**<br>No ORM / Impedance Mismatch"]
    ObjMatch --> DataNature{"**Data Nature**<br>Is the schema volatile<br>or hierarchical?"}
    AcidCheck -- Yes --> NommalizationCheck{"**Rigid Data Model**<br>is data is 3rd or 4th Normal form?"}
    NommalizationCheck -- No --> RigidSQL{"RigidSQL<br> is business logic embedded in sql and plsql?"}
    RigidSQL -- No --> RDBMS["**RDBMS**<br>SQL / Oracle"]
    RigidSQL -- Yes --> Migrator["**Relational Migrator**<br>Schema Transformation"]
    Migrator -- extension --> AMP["**MongoDB AMP**"]
    NommalizationCheck -- Datamodel Optimization --> Migrator
    Migrator --> MongoCore["**MongoDB Core**<br>Flexible Schema"]
    AcidCheck -- No --> VolCheck{"**Volume Nuance**<br>Writes &lt; 1k/sec?"}
    VolCheck -- No --> RDBMS
    VolCheck -- Yes --> MongoCore
    DataNature -- Yes (JSON) --> GraphCheck{"**Graph Nuance**<br>Unbounded depth<br>(&gt; 3 hops)?"}
    GraphCheck -- Yes --> GraphDB["**Neo4j / Neptune**"]
    GraphCheck -- No --> KVCheck{"**Key-Value Nuance**<br>Simple ID Lookup?"}
    DataNature -- No (Rigid) --> AcidCheck
    KVCheck -- Yes --> Latency{"**Latency Nuance**<br>Need &lt;1ms response<br>&amp; OK with data loss?"}
    Latency -- Yes --> Redis["**Redis / Memcached**"]
    Latency -- No --> MongoCore
    KVCheck -- No (Complex) --> QueryCheck{"**Query Nuance**<br>Need robust filtering,<br>secondary indexes,<br>or aggregations?"}
    QueryCheck -- Yes --> MongoCore
    MongoCore --> Agility{"**Velocity Check**<br>Does schema change<br>frequently?"}
    Agility -- Yes --> AgileVal["**Value: High Agility**<br>Faster Time-to-Market"]
    Agility -- No --> ScaleCheck{"**Scale Check**<br>Data &gt; 2TB OR<br>Writes &gt; 50k/s?"}
    AgileVal --> ScaleCheck
    ScaleCheck -- Yes --> ShardStrat{"**Sharding Strategy**<br>Access Pattern?"}
    ShardStrat -- Distributed Writes --> HashShard["**Hashed Sharding**<br>Uniform Distribution"]
    ShardStrat -- Location Based --> ZoneShard["**Zone Sharding**<br>Data Locality"]
    ShardStrat -- Range Queries --> RangeShard["**Ranged Sharding**<br>Time/Alpha Grouping"]
    ScaleCheck -- No --> Replica["**Replica Set**<br>High Availability"]
    HashShard --> PlatCheck{"**Workload Nuance**<br>Need Search, AI,<br>Streams, or Time Series?"}
    ZoneShard --> PlatCheck
    RangeShard --> PlatCheck
    Replica --> PlatCheck
    PlatCheck -- Just CRUD --> Integration{"**Ecosystem Check**<br>Need mature connectors<br>(Kafka/Spark)?"}
    PlatCheck -- "Real-Time Streams" --> StreamCheck{"**Streaming Nuance**<br>Process data in-flight?"}
    StreamCheck -- Yes (Kafka+Flink) --> Flink["**Manage Separate Infra**<br>Complex Glue Code"]
    StreamCheck -- Yes (Unified) --> ASP["**Atlas Stream Processing**<br>Continuous Intelligence"]
    PlatCheck -- Search --> SearchDec{"**ETL Tolerance**<br>Want to manage<br>sync pipelines?"}
    SearchDec -- Yes --> Elastic["**Elasticsearch/SOLR**"]
    SearchDec -- No --> AtlasSearch["**Atlas Search**<br>Lucene on Node"]
    PlatCheck -- AI/Vector --> AIUse{"**AI Pattern**<br>How is Vector used?"}
    AIUse -- Chat History --> AgentMem["**Agent Memory**<br>Long-Term Context"]
    AIUse -- Reduce LLM Cost --> SemCache["**Semantic Cache**<br>Prevent Re-runs"]
    AIUse -- Knowledge Base --> RAG["**Knowledge Graph**<br>RAG + Filters"]
    PlatCheck -- IoT --> TimeSeries["**Time Series**<br>Columnar Store"]
    AtlasSearch --> Consolidation["**Value: Consolidation**<br>Reduced Tech Debt"]
    AgentMem --> Consolidation
    SemCache --> Consolidation
    RAG --> Consolidation
    TimeSeries --> Consolidation
    ASP --> Consolidation
    Consolidation --> Integration
    Integration -- No (Isolated) --> DeployCheck{"**Deployment**<br>Can data touch<br>public cloud?"}
    Integration -- Yes --> Connectors["**Value: Ecosystem**<br>Official Drivers/Connectors"]
    Connectors --> DeployCheck
    DeployCheck -- "No (Air-gapped)" --> SelfMan{"**Self-Managed**<br>Infrastructure?"}
    SelfMan -- Containers --> K8s["**Enterprise Operator**<br>OpenShift/K8s"]
    SelfMan -- VM/Metal --> OpsMan["**Ops Manager**<br>Automation"]
    K8s --> Secure@{ label: "**Trust Level**<br>Need 'Eyes-Off'?" }
    OpsMan --> Secure
    DeployCheck -- Yes (Cloud) --> Portability{"**Lock-In Check**<br>Need Cloud Agnostic<br>or Exit Strategy?"}
    Portability -- No (spefic Native) --> Dynamo["<br>cloud specific datbases"]
    Portability -- Yes (Portable) --> NetCheck{"**Network Security**<br>Connection Method?"}
    NetCheck -- AWS/Azure Backbone --> PrivLink["**PrivateLink**<br>One-way Security"]
    NetCheck -- VPC Peering --> Peering["**VPC Peering**<br>Bi-directional"]
    NetCheck -- Public Internet --> IPList["**IP Whitelist**<br>Standard TLS"]
    PrivLink --> RTOCheck{"**DR Strategy**<br>RTO/RPO Requirements?"}
    Peering --> RTOCheck
    IPList --> RTOCheck
    RTOCheck -- "Near-Zero RPO<br>(Multi-Cloud Resilience)" --> MultiCloud["**Multi-Cloud Cluster**<br>AWS+Azure+GCP"]
    RTOCheck -- Minutes (Standard)<br>(Single Region) --> Standard["**Standard Cluster**<br>3-Node Replica"]
    Standard --> Lifecycle{"**Cost Efficiency**<br>Retain history &gt; 90 days?"}
    MultiCloud --> Lifecycle
    Lifecycle -- Yes --> Archive["**Online Archive**<br>Auto-Tiering to S3"]
    Lifecycle -- No --> ObsCheck{"**Ops Nuance**<br>Need Automated<br> Deployment Strategies ?  Performance Tuning?"}
    Archive --> ObsCheck
    ObsCheck -- No (Manual) --> ManualOps["**Manual Tuning**<br>Query Analysis"]
    ObsCheck -- Yes (Intelligent) --> PerfAdv["**MongoDB Atlas Landing Zone and Performance/Query Advisor**<br>*Templatized Deployment Configurations for control and ease of use<br>*Query Performance Visualization<br>*Auto-Index Suggest"]
    PerfAdv --> Secure
    ManualOps --> Secure
    Secure -- Yes (Regulated and High Compliance Requirements) --> CSFLE["Queryable Encryption<br>Client-Side filed encryptions<br>encryption at rest (KMIP)<br>encryption in motion<br><br>Compliance - First Platform<br>"]
    Secure L_Secure_Final_0@-- No --> Final(["**Final DB choice : MongoDB**"])
    CSFLE --> Final
    AMP -.-> Consolidation

    %% --- CLICK BINDINGS ---
    click ObjMatch showInfo
    click AgileVal showInfo
    click Consolidation showInfo
    click Logical showInfo
    click TenantShard showInfo
    click Migrator showInfo
    click MongoCore showInfo
    click HashShard showInfo
    click ZoneShard showInfo
    click RangeShard showInfo
    click Replica showInfo
    click ASP showInfo
    click AtlasSearch showInfo
    click Vector showInfo
    click AgentMem showInfo
    click SemCache showInfo
    click RAG showInfo
    click TimeSeries showInfo
    click Connectors showInfo
    click K8s showInfo
    click OpsMan showInfo
    click PrivLink showInfo
    click Peering showInfo
    click IPList showInfo
    click MultiCloud showInfo
    click Standard showInfo
    click Archive showInfo
    click PerfAdv showInfo
    click CSFLE showInfo
    click AMP showInfo
    click Final "https://cloud.mongodb.com/" "Start with MongoDB Atlas" _blank

    %% --- STYLING ---
    Secure@{ shape: diamond}

     Start:::startNode
     BizModel:::techZone
     WorkloadCheck:::techZone
     Tenancy:::techZone
     Silo:::exitNode
     Isolation:::techZone
     Logical:::valueNode
     TenantShard:::valueNode
     AnalyticCheck:::techZone
     DWH:::exitNode
     DevSkill:::techZone
     AcidCheck:::techZone
     ObjMatch:::valueNode
     DataNature:::techZone
     NommalizationCheck:::techZone
     RigidSQL:::techZone
     RDBMS:::exitNode
     Migrator:::valueNode
     AMP:::valueNode
     MongoCore:::valueNode
     VolCheck:::techZone
     GraphCheck:::techZone
     GraphDB:::exitNode
     KVCheck:::techZone
     Latency:::techZone
     Redis:::exitNode
     QueryCheck:::techZone
     Agility:::techZone
     AgileVal:::valueNode
     ScaleCheck:::scaleZone
     ShardStrat:::scaleZone
     HashShard:::valueNode
     ZoneShard:::valueNode
     RangeShard:::valueNode
     Replica:::valueNode
     PlatCheck:::platZone
     Integration:::platZone
     StreamCheck:::platZone
     Flink:::exitNode
     ASP:::valueNode
     SearchDec:::platZone
     Elastic:::exitNode
     AtlasSearch:::valueNode
     AIUse:::platZone
     AgentMem:::valueNode
     SemCache:::valueNode
     RAG:::valueNode
     TimeSeries:::valueNode
     Consolidation:::valueNode
     DeployCheck:::deployZone
     Connectors:::valueNode
     SelfMan:::deployZone
     K8s:::valueNode
     OpsMan:::valueNode
     Secure:::deployZone
     Portability:::deployZone
     Dynamo:::exitNode
     NetCheck:::deployZone
     PrivLink:::valueNode
     Peering:::valueNode
     IPList:::valueNode
     RTOCheck:::deployZone
     MultiCloud:::valueNode
     Standard:::valueNode
     Lifecycle:::deployZone
     Archive:::valueNode
     ObsCheck:::deployZone
     ManualOps:::exitNode
     PerfAdv:::valueNode
     CSFLE:::valueNode
     Final:::Aqua
    classDef startNode fill:#333,stroke:#333,stroke-width:2px,color:#fff
    classDef techZone fill:#E3F2FD,stroke:#1565C0,stroke-width:2px,color:#000
    classDef scaleZone fill:#FFF3E0,stroke:#EF6C00,stroke-width:2px,color:#000
    classDef platZone fill:#F3E5F5,stroke:#7B1FA2,stroke-width:2px,color:#000
    classDef deployZone fill:#E8F5E9,stroke:#2E7D32,stroke-width:2px,color:#000
    classDef valueNode fill:#00ED64,stroke:#00684A,stroke-width:3px,font-weight:bold,color:#000
    classDef exitNode fill:#F5F5F5,stroke:#616161,stroke-width:1px,stroke-dasharray: 5 5,color:#666
    classDef Sky stroke-width:1px, stroke-dasharray:none, stroke:#374D7C, fill:#E2EBFF, color:#374D7C
    classDef Aqua stroke-width:1px, stroke-dasharray:none, stroke:#46EDC8, fill:#DEFFF8, color:#378E7A
   

    L_Secure_Final_0@{ curve: natural }


        </div>
    </div>

    <script>
        // --- CONTENT DATABASE ---
        const nodeData = {
            "ObjMatch": {
                title: "Developer Experience",
                value: "Code-Native Data Access",
                detail: "Work with data as natural JSON objects. Eliminates the 'Object-Relational Impedance Mismatch' and removes the need for complex, brittle ORM layers like Hibernate or Prisma.",
                link: "https://www.mongodb.com/docs/drivers/odm/"
            },
            "AgileVal": {
                title: "Business Agility",
                value: "Faster Time-to-Market",
                detail: "Polymorphic schema allows you to launch new features without database downtime or running risky 'ALTER TABLE' migration scripts. The database adapts to your code, not vice versa.",
                link: "https://www.mongodb.com/docs/manual/core/schema-validation/"
            },
            "Consolidation": {
                title: "Tech Stack Consolidation",
                value: "Lower TCO & Complexity",
                detail: "By combining Transactional, Search, AI, and Time Series workloads into one API, you remove the cost and maintenance burden of syncing 3-4 separate niche databases.",
                link: "https://www.mongodb.com/products/platform"
            },
            "Logical": {
                title: "Logical Sharding",
                value: "Simple Multi-Tenancy",
                detail: "Isolates tenants using a 'tenant_id' field within standard collections. Ideal for high-volume SaaS where tenants share resources but need logical separation.",
                link: "https://www.mongodb.com/docs/manual/core/moveable-collections/multi-tenant/"
            },
            "TenantShard": {
                title: "Tenant-Aware Sharding",
                value: "Physical Isolation",
                detail: "Pin specific tenants to specific hardware. Allows you to offer 'Premium Tier' performance on dedicated NVMe nodes while keeping 'Free Tier' users on shared hardware—all in one cluster.",
                link: "https://www.mongodb.com/docs/manual/sharding//"
            },
            "MongoCore": {
                title: "MongoDB Core",
                value: "The Intelligent Document Database",
                detail: "The foundation. Stores data in BSON (Binary JSON), supporting rich indexing, ACID transactions, and aggregations. It scales horizontally by default.",
                link: "https://www.mongodb.com/docs/manual/core/document/"
            },
            "Migrator": {
                title: "Relational Migrator",
                value: "Automated Modernization",
                detail: "Analyzes legacy SQL schemas and automatically generates optimized MongoDB document models and code. De-risks the migration process.",
                link: "https://www.mongodb.com/products/relational-migrator"
            },
            "AMP": {
                title: "MongoDB AMP",
                value: "Application Modernization Platform",
                detail: "An integrated platform extending Relational Migrator to help modernize legacy applications. Includes schema transformation, code migration, and testing capabilities to accelerate the journey from monolithic SQL systems to modern MongoDB architectures.",
                link: "https://www.mongodb.com/resources/basics/application-modernization"
            },
            "HashShard": {
                title: "Hashed Sharding",
                value: "Perfect Write Distribution",
                detail: "Distributes data based on a hash of the shard key. Ensures writes are spread evenly across all nodes, preventing 'hotspots' during massive ingest events.",
                link: "https://www.mongodb.com/docs/manual/core/hashed-sharding/"
            },
            "ZoneShard": {
                title: "Zone Sharding",
                value: "Data Locality / Sovereignty",
                detail: "Allows you to tag shards by geography (e.g., 'EU-West'). Data for German users stays physically on German servers to comply with GDPR, while US data stays in Virginia.",
                link: "https://www.mongodb.com/docs/manual/core/zone-sharding/"
            },
            "RangeShard": {
                title: "Ranged Sharding",
                value: "Optimized Range Queries",
                detail: "Divides data into continuous ranges (e.g., Time or Alphabetical). Ideal for efficient queries that scan a specific window of time or sequence.",
                link: "https://www.mongodb.com/docs/manual/core/ranged-sharding/"
            },
            "Replica": {
                title: "Replica Set",
                value: "High Availability (HA)",
                detail: "A group of at least 3 nodes that maintain the same data set. Provides automatic failover and data redundancy. If the primary crashes, a secondary takes over in seconds.",
                link: "https://www.mongodb.com/docs/manual/replication/"
            },
            "ASP": {
                title: "Atlas Stream Processing",
                value: "Analyze Data In-Flight",
                detail: "Process high-velocity streams (Kafka/EventHub) continuously before storing them. Use standard MongoDB aggregation syntax to build real-time alerts and views.",
                link: "https://www.mongodb.com/products/platform/atlas-stream-processing"
            },
            "AtlasSearch": {
                title: "Atlas Search",
                value: "Lucene-Powered Search",
                detail: "Full-text search integrated into the database. Features fuzzy matching, autocomplete, and highlighting without managing a separate Elasticsearch cluster.",
                link: "https://www.mongodb.com/docs/atlas/atlas-search/"
            },
            "Vector": {
                title: "Vector Search",
                value: "Unified Memory for AI",
                detail: "Store and query vector embeddings alongside operational data. Enables semantic search and RAG workflows without an external vector DB.",
                link: "https://www.mongodb.com/products/platform/atlas-vector-search"
            },
            "AgentMem": {
                title: "Agent Memory",
                value: "Long-Term Context",
                detail: "Use MongoDB to store conversation history and context for AI Agents. Vector search retrieves relevant past interactions to make the AI smarter over time.",
                link: "https://www.mongodb.com/developer/products/atlas/building-generative-ai-applications-vector-search/"
            },
            "SemCache": {
                title: "Semantic Cache",
                value: "Reduce LLM Costs",
                detail: "Cache LLM responses based on semantic similarity. If a user asks a question similar to a previous one, serve the cached answer instantly instead of paying for a new GPU call.",
                link: "https://www.mongodb.com/docs/atlas/atlas-vector-search/vector-search-overview/"
            },
            "RAG": {
                title: "RAG (Retrieval Augmented Generation)",
                value: "Ground AI in Truth",
                detail: "Retrieve accurate, private enterprise data from MongoDB and feed it to the LLM to prevent hallucinations and provide domain-specific answers.",
                link: "https://www.mongodb.com/docs/atlas/atlas-vector-search/tutorials/local-rag/"
            },
            "TimeSeries": {
                title: "Time Series Collections",
                value: "IoT Efficiency",
                detail: "Columnar storage optimized for time-series data. significantly reduces storage costs and improves query speed for sensor data and metrics.",
                link: "https://www.mongodb.com/docs/manual/core/timeseries-collections/"
            },
            "Connectors": {
                title: "Ecosystem Connectors",
                value: "Enterprise Integration",
                detail: "Official connectors for Kafka, Spark, Flink, and Databricks. Ensures reliable, high-throughput data pipelines without custom glue code.",
                link: "https://www.mongodb.com/products/integrations/connectors"
            },
            "K8s": {
                title: "Enterprise Operator",
                value: "Kubernetes Native",
                detail: "Deploy and manage MongoDB clusters inside your own Kubernetes environment (OpenShift/EKS/AKS). Automates upgrades, scaling, and backups.",
                link: "https://www.mongodb.com/docs/kubernetes/current/"
            },
            "OpsMan": {
                title: "Ops Manager",
                value: "On-Prem Automation",
                detail: "The management plane for self-managed deployments. Provides a GUI for deploying, monitoring, and backing up clusters on VMs or Bare Metal.",
                link: "https://www.mongodb.com/docs/ops-manager/current/"
            },
            "PrivLink": {
                title: "PrivateLink",
                value: "Secure Unidirectional Access",
                detail: "The gold standard for cloud security. Allows your VPC to connect to MongoDB Atlas privately without traversing the public internet or exposing ports.",
                link: "https://www.mongodb.com/docs/atlas/security-private-endpoint/"
            },
            "Peering": {
                title: "VPC Peering",
                value: "Bi-Directional Networking",
                detail: "Connects your VPC network directly to the Atlas VPC network. Useful for legacy setups, though PrivateLink is generally preferred for tighter security.",
                link: "https://www.mongodb.com/docs/atlas/security-vpc-peering/"
            },
            "IPList": {
                title: "IP Access List",
                value: "Basic Firewalling",
                detail: "Allow access only from specific IP addresses or CIDR blocks. Simple to set up for development or smaller deployments.",
                link: "https://www.mongodb.com/docs/atlas/security/ip-access-list/"
            },
            "MultiCloud": {
                title: "Multi-Cloud Cluster",
                value: "Ultimate Resilience",
                detail: "Span your cluster across AWS, Azure, and Google Cloud simultaneously. Protects against entire cloud provider outages.",
                link: "https://www.mongodb.com/docs/atlas/create-database-deployment/#global-clusters"
            },
            "Standard": {
                title: "Standard Cluster",
                value: "Reliable & Cost-Effective",
                detail: "A standard 3-node replica set deployed in a single region. Provides 99.99% uptime and automatic failover for most production workloads.",
                link: "https://www.mongodb.com/pricing"
            },
            "Archive": {
                title: "Online Archive",
                value: "Cost-Efficient History",
                detail: "Automatically moves old data to cheap S3 object storage while keeping it queryable. Reduces the cost of storing petabytes of historical logs.",
                link: "https://www.mongodb.com/docs/atlas/online-archive/overview/"
            },
            "PerfAdv": {
                title: "Performance Advisor",
                value: "24/7 Intelligent Ops",
                detail: "A built-in tool that analyzes your slow queries and automatically suggests indexes to fix them. It acts as an automated DBA.",
                link: "https://www.mongodb.com/docs/atlas/performance-advisor/"
            },
            "CSFLE": {
                title: "Security and Compliance at everylevel",
                value: "Encryption-in-Use",
                detail: "State-of-the-art security, compliance, and encryption, with the ability to query encrypted data.",
                link: "https://trust.mongodb.com/"
            }
        };

        // --- INTERACTIVITY LOGIC ---
        var panZoomInstance;

        // 1. Initialize Mermaid
        mermaid.initialize({ startOnLoad: true, securityLevel: 'loose' });

        // 2. Define the Click Handler
        window.showInfo = function(nodeId) {
            // Prevent event bubbling so clicking a node doesn't immediately close the drawer via body click
            event.stopPropagation();

            const data = nodeData[nodeId];
            if (data) {
                document.getElementById('drawer-title').innerText = data.title;
                document.getElementById('drawer-value').innerText = data.value;
                document.getElementById('drawer-details').innerText = data.detail;
                
                const linkBtn = document.getElementById('drawer-link');
                if (data.link) {
                    linkBtn.href = data.link;
                    linkBtn.classList.remove('no-link');
                    linkBtn.innerHTML = "<span>Read Documentation →</span>";
                    linkBtn.style.pointerEvents = "auto";
                } else {
                    linkBtn.classList.add('no-link');
                    linkBtn.innerHTML = "<span>No Link Available</span>";
                    linkBtn.style.pointerEvents = "none";
                }
                
                // Open Drawer
                document.getElementById('side-drawer').classList.add('open');
            }
        };

        window.closeDrawer = function() {
            document.getElementById('side-drawer').classList.remove('open');
        };



        // 3. Pan-Zoom Setup
        const interval = setInterval(() => {
            const svg = document.querySelector('.mermaid svg');
            if (svg && svg.getBoundingClientRect().height > 10) {
                clearInterval(interval);
                svg.style.height = '100%';
                svg.style.width = '100%';
                svg.style.maxWidth = 'none';

                panZoomInstance = svgPanZoom(svg, {
                    zoomEnabled: true,
                    controlIconsEnabled: false,
                    fit: true,
                    center: true,
                    minZoom: 0.1,
                    maxZoom: 10
                });
                panZoomInstance.resize();
                panZoomInstance.fit();
                panZoomInstance.center();
            }
        }, 100);

        function zoomIn() { if(panZoomInstance) panZoomInstance.zoomIn(); }
        function zoomOut() { if(panZoomInstance) panZoomInstance.zoomOut(); }
        function resetZoom() { if(panZoomInstance) { panZoomInstance.resetZoom(); panZoomInstance.center(); } }
        
        window.addEventListener('resize', function(){
            if(panZoomInstance) { panZoomInstance.resize(); panZoomInstance.fit(); panZoomInstance.center(); }
        });
    </script>
</body>
</html>